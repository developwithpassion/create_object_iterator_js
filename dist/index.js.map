{"version":3,"sources":["index.js","object_iteration.js","create.js"],"names":["object","callback","include_prototype_hierarchy_attributes","method_name","value","is_own_property","hasOwnProperty","create","no_op","create_key_prefix","key_prefix","key","next_prefix","result","create_next_iterator","next_target","iterator_attributes","Object","assign","target","create_visitor","handler","raw_handler","nested_constraint","skip","pair","pair_data","nested_iterator","all_iterator_attributes","defaults","object_traversal_begin_handler","object_traversal_complete_handler","visitor","normalize_key_prefix","endsWith","substr","length"],"mappings":"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","file":"index.js","sourceRoot":"../lib","sourcesContent":["export { default } from './object_iteration';\n","export default (object, callback, include_prototype_hierarchy_attributes = false) => {\n  for (let method_name in object) {\n    const value = object[method_name];\n    const is_own_property = object.hasOwnProperty(method_name);\n\n    if (is_own_property || include_prototype_hierarchy_attributes)\n      callback(method_name, value, is_own_property);\n  }\n};\n","import each_property_pair from '@developwithpassion/simple_object_iterator_js';\n\nconst no_op = () => {};\n\nconst create_key_prefix = (key_prefix, key) => {\n  const next_prefix = key + '.';\n\n  const result = key_prefix === '' ? next_prefix : key_prefix + next_prefix;\n\n  return result;\n};\n\nconst create_next_iterator = (key, next_target, iterator_attributes) =>\n  create(\n    Object.assign({}, iterator_attributes, {\n      target: next_target,\n      key_prefix: create_key_prefix(iterator_attributes.key_prefix, key)\n    })\n  );\n\nconst create_visitor = (handler, raw_handler, iterator_attributes) => (key, value) => {\n  raw_handler = raw_handler || no_op;\n\n  const { nested_constraint, skip, key_prefix } = iterator_attributes;\n\n  const pair = {\n    key: key,\n    value: value\n  };\n\n  const pair_data = {\n    key: key_prefix + key,\n    value: value\n  };\n\n  raw_handler(pair_data);\n\n  if (nested_constraint(value)) {\n    const nested_iterator = create_next_iterator(key, value, iterator_attributes);\n    nested_iterator(handler, raw_handler);\n  } else {\n    if (!skip(pair)) handler(pair_data);\n  }\n};\n\nconst create = iterator_attributes => {\n  const all_iterator_attributes = Object.assign({}, defaults(), iterator_attributes);\n\n  const {\n    object_traversal_begin_handler,\n    key_prefix,\n    target,\n    object_traversal_complete_handler\n  } = all_iterator_attributes;\n\n  return (handler, raw_handler) => {\n    const visitor = create_visitor(handler, raw_handler, all_iterator_attributes);\n\n    object_traversal_begin_handler(normalize_key_prefix(key_prefix), target);\n\n    each_property_pair(target, visitor);\n\n    object_traversal_complete_handler(key_prefix, target, all_iterator_attributes);\n  };\n};\n\nconst defaults = () => ({\n  key_prefix: '',\n  nested_constraint: () => false,\n  skip: () => false,\n  object_traversal_begin_handler: no_op,\n  object_traversal_complete_handler: no_op\n});\n\nconst normalize_key_prefix = key => (key.endsWith('.') ? key.substr(0, key.length - 1) : key);\n\nexport default create;\n"]}